{"id":"../../routers/tour.js","dependencies":[{"name":"C:\\Users\\LeshaPC\\Desktop\\NodeJS\\Natours-API\\package.json","includedInParent":true,"mtime":1712416680966},{"name":"express","loc":{"line":1,"column":24,"index":24},"parent":"C:\\Users\\LeshaPC\\Desktop\\NodeJS\\Natours-API\\routers\\tour.js","resolved":"C:\\Users\\LeshaPC\\Desktop\\NodeJS\\Natours-API\\node_modules\\express\\index.js"},{"name":"./../controllers/tourConctrollers.js","parent":"C:\\Users\\LeshaPC\\Desktop\\NodeJS\\Natours-API\\routers\\tour.js","resolved":"C:\\Users\\LeshaPC\\Desktop\\NodeJS\\Natours-API\\controllers\\tourConctrollers.js"},{"name":"./../controllers/authController","loc":{"line":3,"column":32,"index":143},"parent":"C:\\Users\\LeshaPC\\Desktop\\NodeJS\\Natours-API\\routers\\tour.js","resolved":"C:\\Users\\LeshaPC\\Desktop\\NodeJS\\Natours-API\\controllers\\authController.js"},{"name":"./review.js","loc":{"line":4,"column":30,"index":210},"parent":"C:\\Users\\LeshaPC\\Desktop\\NodeJS\\Natours-API\\routers\\tour.js","resolved":"C:\\Users\\LeshaPC\\Desktop\\NodeJS\\Natours-API\\routers\\review.js"}],"generated":{"js":"var express = require('express');\nvar tourControllers = require(\"./../controllers/tourConctrollers.js\");\nvar authControllers = require('./../controllers/authController');\nvar reviewsRouter = require('./review.js');\nvar tour = express.Router();\ntour.use('/:id/reviews', reviewsRouter);\ntour.route('/tours-within/distance/:distance/picked-position/:pickedPosition/unit/:unit').get(tourControllers.getToursWithIn);\ntour.route('/tours-near-position/position/:position/unit/:unit').get(tourControllers.getToursNearPosition);\ntour.route('/top-price').get(tourControllers.getHigherPrice, tourControllers.getAllTours);\ntour.route('/statistics').get(tourControllers.getStats);\ntour.route('/mounthly-plan/:year').get(tourControllers.getYearTours);\ntour.route('/').get(tourControllers.getAllTours).post(tourControllers.postTour);\ntour.route('/:id').patch(authControllers.protectRoute, authControllers.isAuthorized('lead-guide', 'admin'), tourControllers.changeTour).get(tourControllers.getTour).delete(authControllers.protectRoute, authControllers.isAuthorized('lead-guide', 'admin'), tourControllers.deleteTour);\nmodule.exports = tour;"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":1,"column":0},"source":"../../routers/tour.js","original":{"line":1,"column":0}},{"generated":{"line":1,"column":4},"source":"../../routers/tour.js","original":{"line":1,"column":6},"name":"express"},{"generated":{"line":1,"column":11},"source":"../../routers/tour.js","original":{"line":1,"column":13}},{"generated":{"line":1,"column":14},"source":"../../routers/tour.js","original":{"line":1,"column":16},"name":"require"},{"generated":{"line":1,"column":21},"source":"../../routers/tour.js","original":{"line":1,"column":23}},{"generated":{"line":1,"column":22},"source":"../../routers/tour.js","original":{"line":1,"column":24}},{"generated":{"line":1,"column":31},"source":"../../routers/tour.js","original":{"line":1,"column":33}},{"generated":{"line":1,"column":32},"source":"../../routers/tour.js","original":{"line":1,"column":34}},{"generated":{"line":2,"column":0},"source":"../../routers/tour.js","original":{"line":2,"column":0}},{"generated":{"line":2,"column":4},"source":"../../routers/tour.js","original":{"line":2,"column":6},"name":"tourControllers"},{"generated":{"line":2,"column":19},"source":"../../routers/tour.js","original":{"line":2,"column":21}},{"generated":{"line":2,"column":22},"source":"../../routers/tour.js","original":{"line":2,"column":24},"name":"require"},{"generated":{"line":2,"column":29},"source":"../../routers/tour.js","original":{"line":2,"column":31}},{"generated":{"line":2,"column":68},"source":"../../routers/tour.js","original":{"line":2,"column":70}},{"generated":{"line":2,"column":69},"source":"../../routers/tour.js","original":{"line":2,"column":71}},{"generated":{"line":3,"column":0},"source":"../../routers/tour.js","original":{"line":3,"column":0}},{"generated":{"line":3,"column":4},"source":"../../routers/tour.js","original":{"line":3,"column":6},"name":"authControllers"},{"generated":{"line":3,"column":19},"source":"../../routers/tour.js","original":{"line":3,"column":21}},{"generated":{"line":3,"column":22},"source":"../../routers/tour.js","original":{"line":3,"column":24},"name":"require"},{"generated":{"line":3,"column":29},"source":"../../routers/tour.js","original":{"line":3,"column":31}},{"generated":{"line":3,"column":30},"source":"../../routers/tour.js","original":{"line":3,"column":32}},{"generated":{"line":3,"column":63},"source":"../../routers/tour.js","original":{"line":3,"column":65}},{"generated":{"line":3,"column":64},"source":"../../routers/tour.js","original":{"line":3,"column":66}},{"generated":{"line":4,"column":0},"source":"../../routers/tour.js","original":{"line":4,"column":0}},{"generated":{"line":4,"column":4},"source":"../../routers/tour.js","original":{"line":4,"column":6},"name":"reviewsRouter"},{"generated":{"line":4,"column":17},"source":"../../routers/tour.js","original":{"line":4,"column":19}},{"generated":{"line":4,"column":20},"source":"../../routers/tour.js","original":{"line":4,"column":22},"name":"require"},{"generated":{"line":4,"column":27},"source":"../../routers/tour.js","original":{"line":4,"column":29}},{"generated":{"line":4,"column":28},"source":"../../routers/tour.js","original":{"line":4,"column":30}},{"generated":{"line":4,"column":41},"source":"../../routers/tour.js","original":{"line":4,"column":43}},{"generated":{"line":4,"column":42},"source":"../../routers/tour.js","original":{"line":4,"column":44}},{"generated":{"line":5,"column":0},"source":"../../routers/tour.js","original":{"line":6,"column":0}},{"generated":{"line":5,"column":4},"source":"../../routers/tour.js","original":{"line":6,"column":6},"name":"tour"},{"generated":{"line":5,"column":8},"source":"../../routers/tour.js","original":{"line":6,"column":10}},{"generated":{"line":5,"column":11},"source":"../../routers/tour.js","original":{"line":6,"column":13},"name":"express"},{"generated":{"line":5,"column":18},"source":"../../routers/tour.js","original":{"line":6,"column":20}},{"generated":{"line":5,"column":19},"source":"../../routers/tour.js","original":{"line":6,"column":21},"name":"Router"},{"generated":{"line":5,"column":25},"source":"../../routers/tour.js","original":{"line":6,"column":27}},{"generated":{"line":5,"column":26},"source":"../../routers/tour.js","original":{"line":6,"column":28}},{"generated":{"line":5,"column":27},"source":"../../routers/tour.js","original":{"line":6,"column":29}},{"generated":{"line":6,"column":0},"source":"../../routers/tour.js","original":{"line":8,"column":0},"name":"tour"},{"generated":{"line":6,"column":4},"source":"../../routers/tour.js","original":{"line":8,"column":4}},{"generated":{"line":6,"column":5},"source":"../../routers/tour.js","original":{"line":8,"column":5},"name":"use"},{"generated":{"line":6,"column":8},"source":"../../routers/tour.js","original":{"line":8,"column":8}},{"generated":{"line":6,"column":9},"source":"../../routers/tour.js","original":{"line":8,"column":9}},{"generated":{"line":6,"column":23},"source":"../../routers/tour.js","original":{"line":8,"column":23}},{"generated":{"line":6,"column":25},"source":"../../routers/tour.js","original":{"line":8,"column":25},"name":"reviewsRouter"},{"generated":{"line":6,"column":38},"source":"../../routers/tour.js","original":{"line":8,"column":38}},{"generated":{"line":6,"column":39},"source":"../../routers/tour.js","original":{"line":8,"column":39}},{"generated":{"line":7,"column":0},"source":"../../routers/tour.js","original":{"line":10,"column":0},"name":"tour"},{"generated":{"line":7,"column":4},"source":"../../routers/tour.js","original":{"line":10,"column":4}},{"generated":{"line":7,"column":5},"source":"../../routers/tour.js","original":{"line":11,"column":3},"name":"route"},{"generated":{"line":7,"column":10},"source":"../../routers/tour.js","original":{"line":11,"column":8}},{"generated":{"line":7,"column":11},"source":"../../routers/tour.js","original":{"line":12,"column":4}},{"generated":{"line":7,"column":88},"source":"../../routers/tour.js","original":{"line":13,"column":2}},{"generated":{"line":7,"column":89},"source":"../../routers/tour.js","original":{"line":13,"column":3}},{"generated":{"line":7,"column":90},"source":"../../routers/tour.js","original":{"line":14,"column":3},"name":"get"},{"generated":{"line":7,"column":93},"source":"../../routers/tour.js","original":{"line":14,"column":6}},{"generated":{"line":7,"column":94},"source":"../../routers/tour.js","original":{"line":14,"column":7},"name":"tourControllers"},{"generated":{"line":7,"column":109},"source":"../../routers/tour.js","original":{"line":14,"column":22}},{"generated":{"line":7,"column":110},"source":"../../routers/tour.js","original":{"line":14,"column":23},"name":"getToursWithIn"},{"generated":{"line":7,"column":124},"source":"../../routers/tour.js","original":{"line":14,"column":37}},{"generated":{"line":7,"column":125},"source":"../../routers/tour.js","original":{"line":14,"column":38}},{"generated":{"line":8,"column":0},"source":"../../routers/tour.js","original":{"line":16,"column":0},"name":"tour"},{"generated":{"line":8,"column":4},"source":"../../routers/tour.js","original":{"line":16,"column":4}},{"generated":{"line":8,"column":5},"source":"../../routers/tour.js","original":{"line":17,"column":3},"name":"route"},{"generated":{"line":8,"column":10},"source":"../../routers/tour.js","original":{"line":17,"column":8}},{"generated":{"line":8,"column":11},"source":"../../routers/tour.js","original":{"line":17,"column":9}},{"generated":{"line":8,"column":63},"source":"../../routers/tour.js","original":{"line":17,"column":61}},{"generated":{"line":8,"column":64},"source":"../../routers/tour.js","original":{"line":17,"column":62}},{"generated":{"line":8,"column":65},"source":"../../routers/tour.js","original":{"line":18,"column":3},"name":"get"},{"generated":{"line":8,"column":68},"source":"../../routers/tour.js","original":{"line":18,"column":6}},{"generated":{"line":8,"column":69},"source":"../../routers/tour.js","original":{"line":18,"column":7},"name":"tourControllers"},{"generated":{"line":8,"column":84},"source":"../../routers/tour.js","original":{"line":18,"column":22}},{"generated":{"line":8,"column":85},"source":"../../routers/tour.js","original":{"line":18,"column":23},"name":"getToursNearPosition"},{"generated":{"line":8,"column":105},"source":"../../routers/tour.js","original":{"line":18,"column":43}},{"generated":{"line":8,"column":106},"source":"../../routers/tour.js","original":{"line":18,"column":44}},{"generated":{"line":9,"column":0},"source":"../../routers/tour.js","original":{"line":20,"column":0},"name":"tour"},{"generated":{"line":9,"column":4},"source":"../../routers/tour.js","original":{"line":20,"column":4}},{"generated":{"line":9,"column":5},"source":"../../routers/tour.js","original":{"line":21,"column":3},"name":"route"},{"generated":{"line":9,"column":10},"source":"../../routers/tour.js","original":{"line":21,"column":8}},{"generated":{"line":9,"column":11},"source":"../../routers/tour.js","original":{"line":21,"column":9}},{"generated":{"line":9,"column":23},"source":"../../routers/tour.js","original":{"line":21,"column":21}},{"generated":{"line":9,"column":24},"source":"../../routers/tour.js","original":{"line":21,"column":22}},{"generated":{"line":9,"column":25},"source":"../../routers/tour.js","original":{"line":22,"column":3},"name":"get"},{"generated":{"line":9,"column":28},"source":"../../routers/tour.js","original":{"line":22,"column":6}},{"generated":{"line":9,"column":29},"source":"../../routers/tour.js","original":{"line":22,"column":7},"name":"tourControllers"},{"generated":{"line":9,"column":44},"source":"../../routers/tour.js","original":{"line":22,"column":22}},{"generated":{"line":9,"column":45},"source":"../../routers/tour.js","original":{"line":22,"column":23},"name":"getHigherPrice"},{"generated":{"line":9,"column":59},"source":"../../routers/tour.js","original":{"line":22,"column":37}},{"generated":{"line":9,"column":61},"source":"../../routers/tour.js","original":{"line":22,"column":39},"name":"tourControllers"},{"generated":{"line":9,"column":76},"source":"../../routers/tour.js","original":{"line":22,"column":54}},{"generated":{"line":9,"column":77},"source":"../../routers/tour.js","original":{"line":22,"column":55},"name":"getAllTours"},{"generated":{"line":9,"column":88},"source":"../../routers/tour.js","original":{"line":22,"column":66}},{"generated":{"line":9,"column":89},"source":"../../routers/tour.js","original":{"line":22,"column":67}},{"generated":{"line":10,"column":0},"source":"../../routers/tour.js","original":{"line":24,"column":0},"name":"tour"},{"generated":{"line":10,"column":4},"source":"../../routers/tour.js","original":{"line":24,"column":4}},{"generated":{"line":10,"column":5},"source":"../../routers/tour.js","original":{"line":24,"column":5},"name":"route"},{"generated":{"line":10,"column":10},"source":"../../routers/tour.js","original":{"line":24,"column":10}},{"generated":{"line":10,"column":11},"source":"../../routers/tour.js","original":{"line":24,"column":11}},{"generated":{"line":10,"column":24},"source":"../../routers/tour.js","original":{"line":24,"column":24}},{"generated":{"line":10,"column":25},"source":"../../routers/tour.js","original":{"line":24,"column":25}},{"generated":{"line":10,"column":26},"source":"../../routers/tour.js","original":{"line":24,"column":26},"name":"get"},{"generated":{"line":10,"column":29},"source":"../../routers/tour.js","original":{"line":24,"column":29}},{"generated":{"line":10,"column":30},"source":"../../routers/tour.js","original":{"line":24,"column":30},"name":"tourControllers"},{"generated":{"line":10,"column":45},"source":"../../routers/tour.js","original":{"line":24,"column":45}},{"generated":{"line":10,"column":46},"source":"../../routers/tour.js","original":{"line":24,"column":46},"name":"getStats"},{"generated":{"line":10,"column":54},"source":"../../routers/tour.js","original":{"line":24,"column":54}},{"generated":{"line":10,"column":55},"source":"../../routers/tour.js","original":{"line":24,"column":55}},{"generated":{"line":11,"column":0},"source":"../../routers/tour.js","original":{"line":26,"column":0},"name":"tour"},{"generated":{"line":11,"column":4},"source":"../../routers/tour.js","original":{"line":26,"column":4}},{"generated":{"line":11,"column":5},"source":"../../routers/tour.js","original":{"line":26,"column":5},"name":"route"},{"generated":{"line":11,"column":10},"source":"../../routers/tour.js","original":{"line":26,"column":10}},{"generated":{"line":11,"column":11},"source":"../../routers/tour.js","original":{"line":26,"column":11}},{"generated":{"line":11,"column":33},"source":"../../routers/tour.js","original":{"line":26,"column":33}},{"generated":{"line":11,"column":34},"source":"../../routers/tour.js","original":{"line":26,"column":34}},{"generated":{"line":11,"column":35},"source":"../../routers/tour.js","original":{"line":26,"column":35},"name":"get"},{"generated":{"line":11,"column":38},"source":"../../routers/tour.js","original":{"line":26,"column":38}},{"generated":{"line":11,"column":39},"source":"../../routers/tour.js","original":{"line":26,"column":39},"name":"tourControllers"},{"generated":{"line":11,"column":54},"source":"../../routers/tour.js","original":{"line":26,"column":54}},{"generated":{"line":11,"column":55},"source":"../../routers/tour.js","original":{"line":26,"column":55},"name":"getYearTours"},{"generated":{"line":11,"column":67},"source":"../../routers/tour.js","original":{"line":26,"column":67}},{"generated":{"line":11,"column":68},"source":"../../routers/tour.js","original":{"line":26,"column":68}},{"generated":{"line":12,"column":0},"source":"../../routers/tour.js","original":{"line":28,"column":0},"name":"tour"},{"generated":{"line":12,"column":4},"source":"../../routers/tour.js","original":{"line":28,"column":4}},{"generated":{"line":12,"column":5},"source":"../../routers/tour.js","original":{"line":28,"column":5},"name":"route"},{"generated":{"line":12,"column":10},"source":"../../routers/tour.js","original":{"line":28,"column":10}},{"generated":{"line":12,"column":11},"source":"../../routers/tour.js","original":{"line":28,"column":11}},{"generated":{"line":12,"column":14},"source":"../../routers/tour.js","original":{"line":28,"column":14}},{"generated":{"line":12,"column":15},"source":"../../routers/tour.js","original":{"line":28,"column":15}},{"generated":{"line":12,"column":16},"source":"../../routers/tour.js","original":{"line":28,"column":16},"name":"get"},{"generated":{"line":12,"column":19},"source":"../../routers/tour.js","original":{"line":28,"column":19}},{"generated":{"line":12,"column":20},"source":"../../routers/tour.js","original":{"line":28,"column":20},"name":"tourControllers"},{"generated":{"line":12,"column":35},"source":"../../routers/tour.js","original":{"line":28,"column":35}},{"generated":{"line":12,"column":36},"source":"../../routers/tour.js","original":{"line":28,"column":36},"name":"getAllTours"},{"generated":{"line":12,"column":47},"source":"../../routers/tour.js","original":{"line":28,"column":47}},{"generated":{"line":12,"column":48},"source":"../../routers/tour.js","original":{"line":28,"column":48}},{"generated":{"line":12,"column":49},"source":"../../routers/tour.js","original":{"line":28,"column":49},"name":"post"},{"generated":{"line":12,"column":53},"source":"../../routers/tour.js","original":{"line":28,"column":53}},{"generated":{"line":12,"column":54},"source":"../../routers/tour.js","original":{"line":28,"column":54},"name":"tourControllers"},{"generated":{"line":12,"column":69},"source":"../../routers/tour.js","original":{"line":28,"column":69}},{"generated":{"line":12,"column":70},"source":"../../routers/tour.js","original":{"line":28,"column":70},"name":"postTour"},{"generated":{"line":12,"column":78},"source":"../../routers/tour.js","original":{"line":28,"column":78}},{"generated":{"line":12,"column":79},"source":"../../routers/tour.js","original":{"line":28,"column":79}},{"generated":{"line":13,"column":0},"source":"../../routers/tour.js","original":{"line":30,"column":0},"name":"tour"},{"generated":{"line":13,"column":4},"source":"../../routers/tour.js","original":{"line":30,"column":4}},{"generated":{"line":13,"column":5},"source":"../../routers/tour.js","original":{"line":31,"column":3},"name":"route"},{"generated":{"line":13,"column":10},"source":"../../routers/tour.js","original":{"line":31,"column":8}},{"generated":{"line":13,"column":11},"source":"../../routers/tour.js","original":{"line":31,"column":9}},{"generated":{"line":13,"column":17},"source":"../../routers/tour.js","original":{"line":31,"column":15}},{"generated":{"line":13,"column":18},"source":"../../routers/tour.js","original":{"line":31,"column":16}},{"generated":{"line":13,"column":19},"source":"../../routers/tour.js","original":{"line":32,"column":3},"name":"patch"},{"generated":{"line":13,"column":24},"source":"../../routers/tour.js","original":{"line":32,"column":8}},{"generated":{"line":13,"column":25},"source":"../../routers/tour.js","original":{"line":33,"column":4},"name":"authControllers"},{"generated":{"line":13,"column":40},"source":"../../routers/tour.js","original":{"line":33,"column":19}},{"generated":{"line":13,"column":41},"source":"../../routers/tour.js","original":{"line":33,"column":20},"name":"protectRoute"},{"generated":{"line":13,"column":53},"source":"../../routers/tour.js","original":{"line":33,"column":32}},{"generated":{"line":13,"column":55},"source":"../../routers/tour.js","original":{"line":34,"column":4},"name":"authControllers"},{"generated":{"line":13,"column":70},"source":"../../routers/tour.js","original":{"line":34,"column":19}},{"generated":{"line":13,"column":71},"source":"../../routers/tour.js","original":{"line":34,"column":20},"name":"isAuthorized"},{"generated":{"line":13,"column":83},"source":"../../routers/tour.js","original":{"line":34,"column":32}},{"generated":{"line":13,"column":84},"source":"../../routers/tour.js","original":{"line":34,"column":33}},{"generated":{"line":13,"column":96},"source":"../../routers/tour.js","original":{"line":34,"column":45}},{"generated":{"line":13,"column":98},"source":"../../routers/tour.js","original":{"line":34,"column":47}},{"generated":{"line":13,"column":105},"source":"../../routers/tour.js","original":{"line":34,"column":54}},{"generated":{"line":13,"column":106},"source":"../../routers/tour.js","original":{"line":34,"column":55}},{"generated":{"line":13,"column":108},"source":"../../routers/tour.js","original":{"line":35,"column":4},"name":"tourControllers"},{"generated":{"line":13,"column":123},"source":"../../routers/tour.js","original":{"line":35,"column":19}},{"generated":{"line":13,"column":124},"source":"../../routers/tour.js","original":{"line":35,"column":20},"name":"changeTour"},{"generated":{"line":13,"column":134},"source":"../../routers/tour.js","original":{"line":36,"column":2}},{"generated":{"line":13,"column":135},"source":"../../routers/tour.js","original":{"line":36,"column":3}},{"generated":{"line":13,"column":136},"source":"../../routers/tour.js","original":{"line":37,"column":3},"name":"get"},{"generated":{"line":13,"column":139},"source":"../../routers/tour.js","original":{"line":37,"column":6}},{"generated":{"line":13,"column":140},"source":"../../routers/tour.js","original":{"line":37,"column":7},"name":"tourControllers"},{"generated":{"line":13,"column":155},"source":"../../routers/tour.js","original":{"line":37,"column":22}},{"generated":{"line":13,"column":156},"source":"../../routers/tour.js","original":{"line":37,"column":23},"name":"getTour"},{"generated":{"line":13,"column":163},"source":"../../routers/tour.js","original":{"line":37,"column":30}},{"generated":{"line":13,"column":164},"source":"../../routers/tour.js","original":{"line":37,"column":31}},{"generated":{"line":13,"column":165},"source":"../../routers/tour.js","original":{"line":38,"column":3},"name":"delete"},{"generated":{"line":13,"column":171},"source":"../../routers/tour.js","original":{"line":38,"column":9}},{"generated":{"line":13,"column":172},"source":"../../routers/tour.js","original":{"line":39,"column":4},"name":"authControllers"},{"generated":{"line":13,"column":187},"source":"../../routers/tour.js","original":{"line":39,"column":19}},{"generated":{"line":13,"column":188},"source":"../../routers/tour.js","original":{"line":39,"column":20},"name":"protectRoute"},{"generated":{"line":13,"column":200},"source":"../../routers/tour.js","original":{"line":39,"column":32}},{"generated":{"line":13,"column":202},"source":"../../routers/tour.js","original":{"line":40,"column":4},"name":"authControllers"},{"generated":{"line":13,"column":217},"source":"../../routers/tour.js","original":{"line":40,"column":19}},{"generated":{"line":13,"column":218},"source":"../../routers/tour.js","original":{"line":40,"column":20},"name":"isAuthorized"},{"generated":{"line":13,"column":230},"source":"../../routers/tour.js","original":{"line":40,"column":32}},{"generated":{"line":13,"column":231},"source":"../../routers/tour.js","original":{"line":40,"column":33}},{"generated":{"line":13,"column":243},"source":"../../routers/tour.js","original":{"line":40,"column":45}},{"generated":{"line":13,"column":245},"source":"../../routers/tour.js","original":{"line":40,"column":47}},{"generated":{"line":13,"column":252},"source":"../../routers/tour.js","original":{"line":40,"column":54}},{"generated":{"line":13,"column":253},"source":"../../routers/tour.js","original":{"line":40,"column":55}},{"generated":{"line":13,"column":255},"source":"../../routers/tour.js","original":{"line":41,"column":4},"name":"tourControllers"},{"generated":{"line":13,"column":270},"source":"../../routers/tour.js","original":{"line":41,"column":19}},{"generated":{"line":13,"column":271},"source":"../../routers/tour.js","original":{"line":41,"column":20},"name":"deleteTour"},{"generated":{"line":13,"column":281},"source":"../../routers/tour.js","original":{"line":42,"column":2}},{"generated":{"line":13,"column":282},"source":"../../routers/tour.js","original":{"line":42,"column":3}},{"generated":{"line":14,"column":0},"source":"../../routers/tour.js","original":{"line":44,"column":0},"name":"module"},{"generated":{"line":14,"column":6},"source":"../../routers/tour.js","original":{"line":44,"column":6}},{"generated":{"line":14,"column":7},"source":"../../routers/tour.js","original":{"line":44,"column":7},"name":"exports"},{"generated":{"line":14,"column":14},"source":"../../routers/tour.js","original":{"line":44,"column":14}},{"generated":{"line":14,"column":17},"source":"../../routers/tour.js","original":{"line":44,"column":17},"name":"tour"},{"generated":{"line":14,"column":21},"source":"../../routers/tour.js","original":{"line":44,"column":21}}],"sources":{"../../routers/tour.js":"const express = require('express');\r\nconst tourControllers = require(`./../controllers/tourConctrollers.js`);\r\nconst authControllers = require('./../controllers/authController');\r\nconst reviewsRouter = require('./review.js');\r\n\r\nconst tour = express.Router();\r\n\r\ntour.use('/:id/reviews', reviewsRouter);\r\n\r\ntour\r\n  .route(\r\n    '/tours-within/distance/:distance/picked-position/:pickedPosition/unit/:unit'\r\n  )\r\n  .get(tourControllers.getToursWithIn);\r\n\r\ntour\r\n  .route('/tours-near-position/position/:position/unit/:unit')\r\n  .get(tourControllers.getToursNearPosition);\r\n\r\ntour\r\n  .route('/top-price')\r\n  .get(tourControllers.getHigherPrice, tourControllers.getAllTours);\r\n\r\ntour.route('/statistics').get(tourControllers.getStats);\r\n\r\ntour.route('/mounthly-plan/:year').get(tourControllers.getYearTours);\r\n\r\ntour.route('/').get(tourControllers.getAllTours).post(tourControllers.postTour);\r\n\r\ntour\r\n  .route('/:id')\r\n  .patch(\r\n    authControllers.protectRoute,\r\n    authControllers.isAuthorized('lead-guide', 'admin'),\r\n    tourControllers.changeTour\r\n  )\r\n  .get(tourControllers.getTour)\r\n  .delete(\r\n    authControllers.protectRoute,\r\n    authControllers.isAuthorized('lead-guide', 'admin'),\r\n    tourControllers.deleteTour\r\n  );\r\n\r\nmodule.exports = tour;\r\n"},"lineCount":null}},"error":null,"hash":"5a10ed62e475cbb20dd850d222fc9db0","cacheData":{"env":{}}}